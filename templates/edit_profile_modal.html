
<div style="background: linear-gradient(135deg, #764ba2, #667eea); padding: 30px; border-radius: 15px; width: 100%;">
    <h3 style="border-bottom: 1px solid rgba(255, 255, 255, 0.5); padding-bottom: 10px; margin-bottom: 20px;">Edit Your Profile</h3>
    <div class="profile-pic-container" style="text-align: center;">
        <!-- Show current profile image -->
        <img src="{{ url_for('static', filename='profile_pics/' + user.profile_image) }}" alt="Profile Picture" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 3px solid white; margin-bottom: 15px;">
    </div>
    
    <!-- IMPORTANT: Must include enctype="multipart/form-data" for file uploads -->
    <form method="POST" action="{{ url_for('edit_profile') }}" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        
        <label for="username" style="display: block; margin-top: 15px; margin-bottom: 5px; font-weight: 600;">Username</label>
        {{ form.username(class="form-control", style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.3); background: rgba(255, 255, 255, 0.2); color: white; font-size: 16px; margin-top: 5px;") }}
        {% for error in form.username.errors %}<span style="color: var(--error); font-size: 12px;">[{{ error }}]</span>{% endfor %}


        <label for="new_password" style="display: block; margin-top: 15px; margin-bottom: 5px; font-weight: 600;">New Password</label>
        {{ form.new_password(class="form-control", placeholder="Leave blank to keep current password", style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.3); background: rgba(255, 255, 255, 0.2); color: white; font-size: 16px; margin-top: 5px;") }}
        {% for error in form.new_password.errors %}<span style="color: var(--error); font-size: 12px;">[{{ error }}]</span>{% endfor %}

        
        <label for="profile_image" style="display: block; margin-top: 15px; margin-bottom: 5px; font-weight: 600;">Profile Picture</label>
        {{ form.profile_image(class="form-control-file", style="width: 100%; padding: 10px 0; color: white;") }}
        {% for error in form.profile_image.errors %}<span style="color: var(--error); font-size: 12px;">[{{ error }}]</span>{% endfor %}
        
        {{ form.submit(style="width: 100%; padding: 10px; margin-top: 20px; background: var(--secondary); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: background 0.3s, transform 0.2s;") }}
    </form>
</div>



